<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="

  crossorigin="anonymous"></script>
  <style>
    #body {
     background-color: rgb(39, 38, 53);
    }
    div{
      text-align: center;
      font-size: x-large;
      color: mintcream;
      text-shadow: 0 0 10px rgb(230, 179, 179), 0 0 20px #fff, 0 0 30px rgb(255, 255, 255)
    }

  </style>
  <title>lamp</title>
    </head>
    <body id="body"> 
    <div id="on">
          <img src="animat-lightbulb-color.gif">
          <p>PRESS B to turn off</p> </div>

    <div id="off">
          <img src="animat-lightbulb.gif"> 
          <p>PRESS A to turn on</p></div>
<script>

$(document).ready(function () {
console.log("jQuery starts");
  
  setInterval(function () {
  var d = new Date();
  var nyt = d.getTime();  

  $.getJSON("../data.json", function (json) {
         //is json REF time <= nyt=now

      if ( json.REF <= nyt) {
                  // go thrue json if still same
          nyt = json.REF;
              jQuery.each(json, function (avain, arvo) {
                            //search
                       painettuNappi = "";
                                    if (arvo == nyt && avain != "REF") {
                                         painettuNappi = avain;
                    }
                                      if (painettuNappi == "bb") {
                                            console.log("painettu",painettuNappi);                 

                                            $("#on").hide();
                                            $("#off").show();

                                      }
                                      if (painettuNappi == "AA") {  

                                          console.log("painettu",painettuNappi);
                                            $("#off").hide();
                                            $("#on").show();
                                      }
                }                    
        );
  }
})      

      
 }, 2000);

 });

  </script>
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
  crossorigin="anonymous"></script>
  <script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.6.0/umd/popper.min.js></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
  crossorigin="anonymous"></script>
</body>

</html>
